# Лабораторная работа №4: Симуляция с пользовательскими коллекциями и псевдослучайной моделью

## Вариант: Библиотека

### Описание проекта

Программа реализует систему управления библиотекой с использованием пользовательских коллекций и псевдослучайной симуляции

### Структура проекта
lab_library/
├── src/
│ ├── init.py
│ ├── books.py # Класс Book
│ ├── collection.py # Пользовательские коллекции (BookCollection, IndexDict и наследники)
│ ├── library.py # Класс Library
│ ├── simulation.py # Функция симуляции
| |── main.py # Точка вход
│ └── logger.py # Настройка логирования
├── tests/
│ ├── init.py
│ ├── test_classes.py # Тесты для классов
│ └── test_simulation.py # Тесты для симуляции
├── requirements.txt # Зависимости
└── README.md 


### Реализованные классы

#### 1. `Book`
- **Поля**: `title`, `author`, `year`, `genre`, `isbn`
- **Назначение**: Представляет книгу

#### 2. `BookCollection`
- **Тип**: Пользовательская списковая коллекция
- **Реализует**: `__getitem__` (с поддержкой срезов), `__iter__`, `__len__`, `__contains__`, `append`, `remove`, `extend`, `__add__`
- **Назначение**: Хранит и управляет списком книг

#### 3. `IndexDict`
- **Тип**: Базовый класс для словарной коллекции
- **Реализует**: `__getitem__`, `__setitem__`, `__delitem__`, `__iter__`, `__len__`, `get`, `keys`, `values`, `items`
- **Назначение**: Базовый класс для индексации

#### 4. Наследники `IndexDict`:
- **`ISBNIndexDict`**: Индексирует книги по ISBN
- **`AuthorIndDict`**: Индексирует книги по автору
- **`YearIndDict`**: Индексирует книги по году издания

#### 5. `Library`
- **Назначение**: Управляет библиотекой, координирует работу коллекций и индексов
- **Содержит**: `books` (BookCollection), `indexes` (словарь индексов)
- **Методы**: `add_book`, `remove_book`, `find_books_by_*`, `get_statistics`


### Принятые решения

1. **Пользовательские коллекции**: Все результаты поиска возвращаются как `BookCollection`, а не как обычные списки

2. **Индексация**: Использованы три типа индексов (по ISBN, автору, году), при добавлении/удалении книги все индексы автоматически обновляются

3. **Безопасность**: Методы, возвращающие коллекции, возвращают копии данных, чтобы предотвратить внешние изменения внутреннего состояния

4. **Магические методы**: Реализованы `__repr__`, `__add__`, `__contains__` для улучшения взаимодействия с объектами.

5. **Логирование**: Для вывода в консоль и записи в файл

### Запуск 

   ```bash
   pip install -r requirements.txt
